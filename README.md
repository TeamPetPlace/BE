# í”„ë¡œì íŠ¸ ì†Œê°œ

<img width="240" alt="KakaoTalk_20230408_184239973" src="https://user-images.githubusercontent.com/107843779/232654475-7c25c85b-8b9f-4319-bf50-4a2182afb3d8.png">


## ğŸ“š ê¸°ìˆ ìŠ¤íƒ

<div align="center">
	<img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Java&logoColor=white" />
  <img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=flat&logo=Spring Boot&logoColor=white" />
  <img src="https://img.shields.io/badge/Spring Security-6DB33F?style=flat&logo=Spring Security&logoColor=white" />
  <img src="https://img.shields.io/badge/Amazon S3-569A31?style=flat&logo=Amazon S3&logoColor=white" />
  <img src="https://img.shields.io/badge/Amazon RDS-527FFF?style=flat&logo=Amazon RDS&logoColor=white" />
  <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white" />
  <img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=flat&logo=Amazon EC2&logoColor=white" />
</div>


## ğŸ’¡ êµ¬í˜„ê¸°ëŠ¥

### 1. ìœ ì €ì˜ ìœ„ì¹˜ê¸°ë°˜ ë°˜ë ¤ë™ë¬¼ ë™ë°˜ ì‹œì„¤ ì •ë³´ ë° ì¶”ì²œ (map)
### 2. ë°©ë¬¸ ì‹œì„¤ì— ëŒ€í•œ ë¦¬ë·° ì‘ì„±
### 3. í•„í„°ë¥¼ ì‚¬ìš©í•œ ì¡°íšŒ
### 4. ìœ ì €, ì‚¬ì—…ì ëª¨ë“œê°€ ë¶„ë¦¬ë˜ì–´ ì‚¬ì—…ìì˜ ê²½ìš° ì—…ì²´ë“±ë¡ ê°€ëŠ¥
### 5. ì±„íŒ…ë¬¸ì˜ì™€ í›„ê¸° ë“±ë¡ì‹œ ì•Œë¦¼ ê¸°ëŠ¥

## ğŸ—ï¸ APIëª…ì„¸ì„œ

![í™”ë©´ ìº¡ì²˜ 2023-04-18 191834](https://user-images.githubusercontent.com/107843779/232747808-52219ec5-a182-42af-a466-a9203bb2e32e.png)

https://www.notion.so/266ffd7e3c204b8792fb1c69e2d451f4?v=57c8874ec74d46e8b455455ee6ce58da

## ğŸ§± ERD

<img width="970" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-04-18 á„‹á…©á„Œá…¥á†« 2 43 48" src="https://user-images.githubusercontent.com/107843779/232655250-e93b3cb3-68dd-45bc-bee0-49279482f5e7.png">


## ğŸ”— ì™€ì´ì–´ í”„ë ˆì„

<img width="1116" alt="1" src="https://user-images.githubusercontent.com/107843779/232656078-f32b5829-1db7-4fc8-a9bc-528801995fda.png">
<img width="1088" alt="2" src="https://user-images.githubusercontent.com/107843779/232656083-3951d433-8741-43cd-90ab-268866118d71.png">


## â‰ï¸ Trouble Shooting

### 1. ë¦¬ëˆ…ìŠ¤ ê¶Œí•œ
    
#### ë¬¸ì œìƒí™©
    
    - CodeDeployë¥¼ í†µí•´ì„œ CICDë¥¼ êµ¬ì¶•í•´ì„œ AWS EC2ì— Spring Serverë¥¼ ë°°í¬.
    - FEì„œë²„ì™€ì˜ ì—°ê²°ìƒíƒœ í™•ì¸.
    - ê²Œì‹œê¸€ ì‘ì„±ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ì—…ë¡œë“œí•˜ëŠ” ë¶€ë¶„ì´ ì„œë²„ìƒì—ì„œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤..
    
#### ì—ëŸ¬ì½”ë“œ
    
    - java.io.ioexception: permission denied
    - ??? ê°‘ìê¸° ì´ê²Œ ë¬´ìŠ¨ì¼ì¸ê°€ í–ˆë‹¤.
    
#### ì‹œë„ ë° í™•ì¸
    
    - Localí™˜ê²½ì—ì„œ Test ê²°ê³¼ - ì„±ê³µ
    - ì„œë²„ í™˜ê²½ì—ì„œ Testê²°ê³¼ - ì‹¤íŒ¨
    - ì–´ë–¤ ë³€ìˆ˜ê°’ì— ì˜í•œ ë¬¸ì œë°œìƒì¸ì§€ íŒŒì•…ì´ í•„ìš”í–ˆë‹¤.
    - ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ë‚˜ ì´ë¯¸ì§€ ì—…ë¡œë“œì™€ ê´€ë ¨ëœ ë¶€ë¶„ì—ì„œ ë™ì¼í•œ ì—ëŸ¬ê°€ ë°œìƒí•¨ì„ í™•ì¸.
        - ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆì— ì˜í•œ ë¬¸ì œì¸ê°€? - ì•„ë‹ˆë‹¤ - ë¡œì»¬ìƒì—ë„ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì—¬ì„œ í•´ë´¤ì§€ë§Œ ì§€ì •í•œ ì˜ˆì™¸ê°€ ì²˜ë¦¬ë˜ê²Œ ë˜ì–´ìˆë‹¤.
        - ì´ë¯¸ì§€ ìš©ëŸ‰ì— ì˜í•œ ë¬¸ì œì¸ê°€? - ì•„ë‹ˆë‹¤ - ë¡œì»¬ìƒì—ì„œ ë„í•© 10MBë„˜ëŠ” ìš©ëŸ‰ì„ ì—…ë¡œë“œí•˜ë©´ ì§€ì •í•œ ì˜ˆì™¸ê°€ ì²˜ë¦¬ë˜ì—ˆë‹¤.
    - ì½”ë“œë‚˜ ê¸°ëŠ¥ìƒì—ì„œ ì˜ˆìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œëŠ” ëª¨ë‘ ì•„ë‹Œê²ƒìœ¼ë¡œ ìƒê°ë˜ì—ˆë‹¤.
    - í™˜ê²½ì´ë‚˜ ì„¤ì •ì˜ ë¬¸ì œë¼ê³  ìƒê°.
    - ê¶Œí•œì´ë¼ëŠ” ë‹¨ì–´ì— ì§‘ì¤‘í–ˆë‹¤ -> ì–´ë””ì˜ ê¶Œí•œì¸ê°€? -> ì„œë²„ìƒì˜ ê¶Œí•œì¼ê²ƒ -> ì„œë²„ëŠ” ì–´ë””ì¸ê°€? -> ìš°ë¶„íˆ¬ ì„œë²„ì´ë©° ì´ëŠ” ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ì˜ ì„œë²„ì´ë‹¤.
    - ì‹œë„1. í˜„ì¬ ubuntu ì—ì„œ ì‚¬ìš©ì ê¶Œí™˜ìƒíƒœë¥¼ í™•ì¸.
    - ì‹œë„2. ê¶Œí•œ ì¹¨ë²”ì´ ì˜ˆìƒë˜ëŠ” ê²½ë¡œì— chmod 755 -R /ê²½ë¡œ ë¥¼ ì‚¬ìš©í•´ì„œ ê¶Œí•œ ì—…ë°ì´íŠ¸ í›„ ë©”ì„œë“œ ì‹¤í–‰ - ì‹¤íŒ¨
    
#### í•´ê²°
    
    - appspec.ymlì—ì„œ petmissions ë¶€ë¶„ì„ ë³€ê²½.
    ì•„ë˜ 
version: 0.0
os: linux

files:
  - source:  /
    destination: /home/ubuntu/app
    overwrite: yes

permissions:
  - object: /
    pattern: "**"
    owner: ubuntu -> root ë¡œ ë³€ê²½
    group: ubuntu

hooks:
  AfterInstall:
    - location: scripts/stop.sh
      timeout: 60
      runas: ubuntu
  ApplicationStart:
    - location: scripts/start.sh
      timeout: 60
      runas: root
